$(function(){function r(r){for(var t=r.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),o=r[t];r[t]=r[e],r[e]=o}return r}if($(window).width()>768){var t=function(r,t){var e=Math.floor(Math.random()*(t-r+1)+r);return console.log(e+" : "+t),e},e=$(".grid-random");e.removeClass("wrapper grid-uniform");var o=e.children(".large--one-quarter"),n=0,i=e.width(),a=t(n,i/4),f=0,s=!1,h=[[]],l=0,u=function(r){for(var t=!1,e=0,o=0;o<h[0].length;o++)if(row_item=h[0][o],e=e<row_item.offset_y?row_item.offset_y:e,barrier=o===h[0].length-1?i:row_item.offset_x,a>barrier)console.log("skip");else if(r<barrier-a){t=e;break}return t},c=["20%","25%","33%","33%","33%","41.66%"];o.each(function(){var r=$(this);r.removeClass("large--one-quarter").css({width:function(){return c[t(0,c.length-1)]}})}),o=r(o),e.imagesLoaded(function(){o.each(function(r){var e=$(this),o=e.outerWidth(),n=e.outerHeight(),c=function(){a=t(0,i/8),h.push([]),h.length>2&&h.shift()};if(a+o>i&&c(),h.length>1){var g=u(o,a);g===!1?(c(),f=h[0][0].offset_y):f=g}f=t(0,3)>0?f+t(0,i/12):f,e.css({position:"absolute",left:a,top:f});var d={offset_x:a+o,offset_y:f+n};h[h.length-1].push(d),a=s!==!1?s:a+o,s=!1,l=f+n>l?f+n:l}),e.css("height",l),o.animate({opacity:1},600)})}});