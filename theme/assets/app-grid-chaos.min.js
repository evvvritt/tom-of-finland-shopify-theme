var app={};app.utils={randomIntegerBt:function(t,r){return Math.floor(Math.random()*(r-t+1)+t)},shuffleArray:function(t){for(var r=t.length-1;r>0;r--){var e=Math.floor(Math.random()*(r+1)),a=t[r];t[r]=t[e],t[e]=a}return t}},app.artGrid={_grid:".art-grid",_item_selector:".grid__item",_widths:["20%","25%","33%","33%","33%","41.66%"],getItemTopPosition:function(t,r,e,a){for(var i=!1,o=0,s=0;s<t[0].length;s++)if(rowItem=t[0][s],o=o<rowItem.offset_y?rowItem.offset_y:o,barrier=s===t[0].length-1?a:rowItem.offset_x,!(r>barrier)&&e<barrier-r){i=o;break}return i},resizeItem:function(t){var r=app.artGrid._widths;t.removeClass("large--one-quarter").css({width:function(){return r[app.utils.randomIntegerBt(0,r.length-1)]}})},showItems:function(t){$(app.artGrid._item_selector).toggleClass("visible",t)},layout:function(){var t=$(app.artGrid._grid),r=t.children(app.artGrid._item_selector),e=app.utils.randomIntegerBt;if($(window).width()>768){var a=[[]],i=0,o=t.width(),s=e(i,o/4),n=0,d=0;r.each(function(){app.artGrid.resizeItem($(this))}),r=app.utils.shuffleArray(r),t.imagesLoaded(function(){r.each(function(t){var r=$(this),i=r.outerWidth(),f=r.outerHeight(),p=function(){s=e(0,o/8),a.push([]),a.length>2&&a.shift()};if(s+i>o&&p(),a.length>1){var l=app.artGrid.getItemTopPosition(a,s,i,o);l===!1?(p(),n=a[0][0].offset_y):n=l}n=e(0,3)>0?n+e(0,o/12):n,r.css({left:s,top:n});var u={offset_x:s+i,offset_y:n+f};a[a.length-1].push(u),s+=i,d=n+f>d?n+f:d}),t.css("height",d).addClass("art-grid--enabled").removeClass("wrapper grid-uniform"),app.artGrid.showItems()})}else t.removeClass("art-grid--enabled").addClass("grid-uniform"),r.removeAttr("style"),app.artGrid.showItems()}},$(function(){app.artGrid.layout();var t;$(window).resize(function(){app.artGrid.showItems(!1),clearTimeout(t),t=setTimeout(function(){app.artGrid.layout()},500)})});