var app={};app.utils={randomIntegerBt:function(r,t){return Math.floor(Math.random()*(t-r+1)+r)},shuffleArray:function(r){for(var t=r.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),i=r[t];r[t]=r[e],r[e]=i}return r}},app.artGrid={_grid:".art-grid",_item_selector:".grid__item",_widths:["20%","25%","33%","33%","33%","41.66%"],getItemTopPosition:function(r,t,e){for(var i=!1,a=0,o=0;o<r[0].length;o++)if(row_item=r[0][o],a=a<row_item.offset_y?row_item.offset_y:a,barrier=o===r[0].length-1?max_x:row_item.offset_x,t>barrier)console.log("skip");else if(e<barrier-t){i=a;break}return i},resizeItem:function(r){var t=app.artGrid.widths;r.removeClass("large--one-quarter").css({width:function(){return t[rand_numb(0,t.length-1)]}})},showItems:function(r){r="undefined"==typeof r?1:0,$(app.artGrid._item_selector).animate({opacity:r},600)},init:function(){var r=$(app.artGrid._grid),t=r.children(app.artGrid._item_selector),e=app.utils.randomIntegerBt;if($(window).width()>768){var i=0,a=r.width(),o=e(i,a/4),n=0,s=[[]],d=0;t=app.utils.shuffleArray(t),t.each(app.artGrid.resizeItem($(this))),r.imagesLoaded(function(){t.each(function(r){var t=$(this),i=t.outerWidth(),f=t.outerHeight(),p=function(){o=e(0,a/8),s.push([]),s.length>2&&s.shift()};if(o+i>a&&p(),s.length>1){var h=app.artGrid.getItemTopPosition(s,o,i);h===!1?(p(),n=s[0][0].offset_y):n=h}n=e(0,3)>0?n+e(0,a/12):n,t.css({left:o,top:n});var l={offset_x:o+i,offset_y:n+f};s[s.length-1].push(l),o+=i,d=n+f>d?n+f:d}),r.css("height",d).addClass("art-grid--enabled").removeClass("wrapper grid-uniform"),app.artGrid.showItems()})}else r.removeClass("art-grid--enabled").addClass("wrapper grid-uniform"),app.artGrid.showItems()}},$(function(){app.artGrid.init()});