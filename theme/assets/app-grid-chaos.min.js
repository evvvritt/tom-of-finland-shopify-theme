var app={};app.utils={randomIntegerBt:function(r,t){return Math.floor(Math.random()*(t-r+1)+r)},shuffleArray:function(r){for(var t=r.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),a=r[t];r[t]=r[e],r[e]=a}return r}},app.artGrid={_grid:".art-grid",_item_selector:".grid__item",_widths:["20%","25%","33%","33%","33%","41.66%"],getItemTopPosition:function(r,t,e,a){for(var i=!1,o=0,n=0;n<r[0].length;n++)if(rowItem=r[0][n],o=o<rowItem.offset_y?rowItem.offset_y:o,barrier=n===r[0].length-1?a:rowItem.offset_x,!(t>barrier)&&e<barrier-t){i=o;break}return i},resizeItem:function(r){var t=app.artGrid._widths;r.removeClass("large--one-quarter").css({width:function(){return t[app.utils.randomIntegerBt(0,t.length-1)]}})},showItems:function(r){$(app.artGrid._grid).children(app.artGrid._item_selector).toggleClass("visible",r)},layout:function(){var r=$(app.artGrid._grid),t=r.children(app.artGrid._item_selector),e=app.utils.randomIntegerBt;if($(window).width()>768){var a=[[]],i=0,o=r.width(),n=e(i,o/4),s=0,d=0;t.each(function(){app.artGrid.resizeItem($(this))}),t=app.utils.shuffleArray(t),r.imagesLoaded(function(){t.each(function(r){var t=$(this),i=t.outerWidth(),p=t.outerHeight(),f=function(){n=e(0,o/8),a.push([]),a.length>2&&a.shift()};if(n+i>o&&f(),a.length>1){var l=app.artGrid.getItemTopPosition(a,n,i,o);l===!1?(f(),s=a[0][0].offset_y):s=l}s=e(0,3)>0?s+e(0,o/12):s,t.css({left:n,top:s});var u={offset_x:n+i,offset_y:s+p};a[a.length-1].push(u),n+=i,d=s+p>d?s+p:d}),r.css("height",d).addClass("art-grid--enabled").removeClass("wrapper grid-uniform"),app.artGrid.showItems()})}else r.removeClass("art-grid--enabled").addClass("grid-uniform"),t.removeAttr("style"),app.artGrid.showItems()}},$(function(){app.artGrid.layout();var r;$(window).resize(function(){app.artGrid.showItems(!1),clearTimeout(r),r=setTimeout(function(){app.artGrid.layout()},500)})});