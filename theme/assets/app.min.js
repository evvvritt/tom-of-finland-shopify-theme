var app={};app._body=$("body"),app.utils={randomIntegerBt:function(t,o){return Math.floor(Math.random()*(o-t+1)+t)},shuffleArray:function(t){for(var o=t.length-1;o>0;o--){var e=Math.floor(Math.random()*(o+1)),r=t[o];t[o]=t[e],t[e]=r}return t}},app.artGrid={_grid:$(".art-grid"),_items:$(".art-grid").children(".grid__item"),_widths:["two-twelfths","three-twelfths","three-twelfths","four-twelfths","four-twelfths","four-twelfths","four-twelfths","five-twelfths"],resizeItem:function(t){var o=app.artGrid._widths;t.removeClass("large--one-quarter").addClass(function(){return"large--"+o[app.utils.randomIntegerBt(0,o.length-1)]})},showItems:function(t){t="undefined"==typeof t,this._items.toggleClass("visible",t)},layout:function(){var t=app.artGrid._grid,o=app.artGrid._items;t.length>0&&t.imagesLoaded(function(){o.each(function(){app.artGrid.resizeItem($(this))});var t=window.shuffle,e=document.querySelector(".art-grid");new t(e,{itemSelector:".art-grid .grid__item",sizer:".art-grid--sizer",initialSort:{randomize:!0}}),app.artGrid.showItems()})},remove:function(){this._grid.removeClass("art-grid--enabled").addClass("grid-uniform"),this._items.removeAttr("style"),this.showItems()}},app.lbox=function(){var t=$("#lightbox"),o=$("body");$(document).on("click","[data-lbox]",function(){var e=$(window).width()>768?$(this).attr("data-lbox"):$(this).attr("data-lbox-m");console.log(e),o.addClass("lightbox-visible"),t.removeClass("img-can-overflow").find(".content").css("background-image","url("+e+")").html('<img src="'+e+'" >')}),$(document).on("click","a.product-single__thumbnail",function(){$("#featuredImgLink").attr("data-lbox",$(this).data("lbox-asset")).attr("data-lbox-m",$(this).data("lbox-m-asset"))}),$(document).on("click","#lightbox .content",function(){if(t.hasClass("img-can-overflow"))t.removeClass("img-can-overflow").scrollTop(0);else{t.addClass("img-can-overflow");var o=t.find(".content").outerHeight()-t.height(),e=t.find(".content").outerWidth()-t.width();t.scrollTop(o/2).scrollLeft(e/2)}}),$(document).on("click","#closeLightboxBtn",function(){o.removeClass("lightbox-visible")})},app.colorBar=function(t){t="undefined"==typeof t?$(window).scrollTop():t,t+$(window).height()<$("#colorBarStatic").offset().top?app._body.addClass("colorbar-fixed"):app._body.removeClass("colorbar-fixed")},app.over18check=function(){var t=$("#overlay18Plus");if(t.length>0){var o=sessionStorage.getItem("over18");console.log("over 18?: "+o),null!==o&&"true"===o||t.removeClass("visually-hidden"),$(document).on("click","#confirmOver18",function(){sessionStorage.setItem("over18",!0),t.addClass("visually-hidden")}),$(document).on("click","#denyOver18",function(){sessionStorage.setItem("over18",!1),t.attr("data-state","locked")})}},app.scrollHandler=function(){var t=$(window).scrollTop();app.colorBar(t)},$(function(){app.artGrid.layout(),app.colorBar(),app.over18check(),app.lbox(),$(window).scroll(app.scrollHandler)});