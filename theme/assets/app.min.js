var app={};app._body=$("body"),app.utils={randomIntegerBt:function(r,e){return Math.floor(Math.random()*(e-r+1)+r)},shuffleArray:function(r){for(var e=r.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),o=r[e];r[e]=r[t],r[t]=o}return r}},app.artGrid={_grid:$(".art-grid"),_items:$(".art-grid").children(".grid__item"),_widths:["20%","30%","30%","30%","40%"],resizeItem:function(r){var e=app.artGrid._widths;r.removeClass("large--one-quarter").css({width:function(){return e[app.utils.randomIntegerBt(0,e.length-1)]}})},showItems:function(r){r="undefined"==typeof r,this._items.toggleClass("visible",r)},layout:function(){var r=app.artGrid._grid,e=app.artGrid._items,t=app.utils.randomIntegerBt;if($(window).width()>768){var o=[],a=0,i=r.width(),s=t(a,i/12),n=0,d=0,l=100;this._grid.addClass("art-grid--enabled").removeClass("wrapper grid-uniform"),e.each(function(){app.artGrid.resizeItem($(this))}),e=app.utils.shuffleArray(e),r.imagesLoaded(function(){e.each(function(r){var e=$(this),a=e.outerWidth(),l=e.outerHeight();if(o.length>0)for(var p=0;p<o.length;p++);e.css({left:s,top:n});var h={x1:s,x2:s+a,y:n+l,width:e};borderPts.push(h);for(var p=0;p<borderPts.length;p++)borderPts[p];var l=e.outerHeight(),c=function(){rows.push([]),rows.length>2&&rows.shift(),s=0,e.prepend("new row â€” ")};if(e.prepend(" - width: "+a),s+a>i&&c(),e.prepend(r),rows.length>1){for(var f=!1,p=0;p<rows[0].length;p++){var u=rows[0][p],g=rows[0][p+1],w=rows[0].length-1,m=p===w,v=m?i:g.leftEdge;if(!(s>v)){if(a<=v-s){f=u.bottomEdge;break}m||(s=u.bottomEdge>g.bottomEdge?u.rightEdge:s)}}f===!1?(c(),n=rows[0][0].bottomEdge):n=f}else n=t(1,3)>2?n+t(0,30):n;e.css({left:s,top:n});var b={width:a,leftEdge:s,rightEdge:s+a,bottomEdge:n+l};rows[rows.length-1].push(b),s+=a,d=n+l>d?n+l:d}),r.css("height",d+l),app.artGrid.showItems()})}else this.remove()},remove:function(){this._grid.removeClass("art-grid--enabled").addClass("grid-uniform"),this._items.removeAttr("style"),this.showItems()}},app.colorBar=function(r){r="undefined"==typeof r?$(window).scrollTop():r,r+$(window).height()<$("#colorBarStatic").offset().top?app._body.addClass("colorbar-fixed"):app._body.removeClass("colorbar-fixed")},app.over18check=function(){var r=$("#overlay18Plus");if(r.length>0){var e=sessionStorage.getItem("over18");console.log("over 18?: "+e),null!==e&&"true"===e||r.removeClass("visually-hidden"),$(document).on("click","#confirmOver18",function(){sessionStorage.setItem("over18",!0),r.addClass("visually-hidden")}),$(document).on("click","#denyOver18",function(){sessionStorage.setItem("over18",!1),r.attr("data-state","locked")})}},app.scrollHandler=function(){var r=$(window).scrollTop();app.colorBar(r)},$(function(){app.artGrid.layout(),app.colorBar(),app.over18check();var r;$(window).resize(function(){$(window).width()>768,clearTimeout(r),r=setTimeout(function(){app.artGrid.layout()},500)}),$(window).scroll(app.scrollHandler)});